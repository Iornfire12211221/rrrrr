# Настройка Telegram Mini App

## Что такое Telegram Mini App?

Telegram Mini App - это веб-приложения, которые запускаются внутри Telegram и имеют доступ к специальным API для интеграции с мессенджером.

## Преимущества Telegram Mini App

- **Нативная интеграция**: Доступ к данным пользователя Telegram
- **Удобство**: Не нужно скачивать отдельное приложение
- **Безопасность**: Авторизация через Telegram
- **Распространение**: Легко делиться через ссылки и боты

## Пошаговая настройка

### 1. Создание бота в Telegram

1. Найдите [@BotFather](https://t.me/BotFather) в Telegram
2. Отправьте команду `/newbot`
3. Введите название бота (например: "Кингисепп ДПС")
4. Введите username бота (например: `kingisepp_dps_bot`)
5. Сохраните токен бота - он понадобится позже

### 2. Настройка Mini App

1. Отправьте боту команду `/newapp`
2. Выберите созданного бота
3. Введите название приложения: "Кингисепп ДПС"
4. Введите описание: "Интерактивная карта постов ДПС в Кингисеппе"
5. Загрузите иконку приложения (512x512 px)
6. **Важно**: Введите URL вашего приложения: `https://ваш-домен.com`

### 3. URL для деплоя

Ваше приложение должно быть доступно по HTTPS. Варианты:

#### Vercel (рекомендуется)
```bash
npm install -g vercel
vercel --prod
```

#### Netlify
```bash
npm install -g netlify-cli
npm run build
netlify deploy --prod --dir=dist
```

#### Railway
```bash
npm install -g @railway/cli
railway login
railway deploy
```

### 4. Настройка домена

После деплоя получите URL (например: `https://your-app.vercel.app`) и:

1. Вернитесь к [@BotFather](https://t.me/BotFather)
2. Отправьте `/myapps`
3. Выберите ваше приложение
4. Выберите "Edit Web App URL"
5. Введите полученный URL

### 5. Тестирование

1. Найдите вашего бота в Telegram
2. Отправьте команду `/start`
3. Нажмите кнопку для запуска Mini App
4. Приложение должно открыться внутри Telegram

## Настройка бота

Добавьте команды боту через [@BotFather](https://t.me/BotFather):

```
/setcommands
```

Затем введите:
```
start - Запустить приложение
help - Помощь
map - Открыть карту
```

## Дополнительные настройки

### Описание бота
```
/setdescription
```
Введите: "Интерактивная карта постов ДПС и дорожных событий в Кингисеппе. Получайте актуальную информацию о дорожной обстановке в реальном времени."

### Короткое описание
```
/setabouttext
```
Введите: "Карта ДПС Кингисепп - актуальная дорожная информация"

### Фото профиля
```
/setuserpic
```
Загрузите фото 640x640 px с логотипом или картой Кингисеппа.

## Интеграция с приложением

Ваше React Native приложение автоматически определит, что запущено в Telegram, и:

- Получит данные пользователя (имя, username, фото)
- Автоматически авторизует пользователя
- Адаптирует интерфейс под Telegram

## Публикация

### В каталоге Telegram
1. Убедитесь, что приложение работает стабильно
2. Отправьте [@BotFather](https://t.me/BotFather) команду `/setinline`
3. Включите inline режим для бота
4. Пользователи смогут найти бота через поиск

### Продвижение
- Поделитесь ссылкой на бота в местных чатах Кингисеппа
- Добавьте QR-код на печатные материалы
- Разместите информацию в социальных сетях

## Мониторинг

Следите за:
- Количеством пользователей через [@BotFather](https://t.me/BotFather) → /mybots → Statistics
- Отзывами пользователей
- Стабильностью работы приложения

## Поддержка

При возникновении проблем:
1. Проверьте, что URL доступен по HTTPS
2. Убедитесь, что приложение корректно обрабатывает Telegram WebApp API
3. Проверьте консоль браузера на ошибки

## Полезные ссылки

- [Telegram Bot API](https://core.telegram.org/bots/api)
- [Telegram WebApp API](https://core.telegram.org/bots/webapps)
- [BotFather](https://t.me/BotFather)